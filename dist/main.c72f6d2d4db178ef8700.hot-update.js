"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate"]("main",{

/***/ "./src/message.js":
/*!************************!*\
  !*** ./src/message.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleImageUpload: () => (/* binding */ handleImageUpload),\n/* harmony export */   sendMessage: () => (/* binding */ sendMessage)\n/* harmony export */ });\n/* harmony import */ var _src_main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../src/main.js */ \"./src/main.js\");\n// ä¿®æ”¹å¯¼å…¥è¯­å¥\r\n\r\n\r\nconst messageInput = document.getElementById('message-input');\r\nconst imageUpload = document.getElementById('image-upload');\r\n\r\n// åœ¨å‘é€æ¶ˆæ¯å‰æ£€æŸ¥SDKçŠ¶æ€\r\nconst sendMessage = async () => {\r\n    if (!_src_main_js__WEBPACK_IMPORTED_MODULE_0__.isTIMInitialized) {\r\n        alert('TIMM SDK è¿˜æœªåˆå§‹åŒ–ï¼Œè¯·ç¨åå†è¯•ã€‚');\r\n        return;\r\n    }\r\n\r\n    const text = messageInput.value.trim();\r\n    if (!text) return;\r\n\r\n    const textMsg = _src_main_js__WEBPACK_IMPORTED_MODULE_0__.tim.createTextMessage({\r\n        to: '@TGS#165X5DTQ6',\r\n        conversationType: _src_main_js__WEBPACK_IMPORTED_MODULE_0__.tim.TYPES.CONV_GROUP,\r\n        payload: { text }\r\n    });\r\n\r\n    // å‘é€æ–‡æœ¬æ¶ˆæ¯\r\n    const { error } = await _src_main_js__WEBPACK_IMPORTED_MODULE_0__.tim.sendMessage(textMsg);\r\n    if (!error) {\r\n        addMessageToUI({\r\n            type: 'text',\r\n            sender: 'æˆ‘',\r\n            content: text\r\n        });\r\n        messageInput.value = '';\r\n    }\r\n}\r\n\r\n// å›¾ç‰‡ä¸Šä¼ å¤„ç†å‡½æ•°\r\nasync function handleImageUpload(e) {\r\n    if (!_src_main_js__WEBPACK_IMPORTED_MODULE_0__.isTIMInitialized) {\r\n        alert('TIM SDK è¿˜æœªåˆå§‹åŒ–ï¼Œè¯·ç¨åå†è¯•ã€‚');\r\n        return;\r\n    }\r\n\r\n    if (e.target.files && e.target.files[0]) {\r\n        const imageMsg = _src_main_js__WEBPACK_IMPORTED_MODULE_0__.tim.createImageMessage({\r\n            to: '@TGS#165X5DTQ6', // ğŸ”§ éœ€ä¿æŒä¸ç¾¤ç»„IDä¸€è‡´\r\n            payload: {\r\n                file: e.target.files[0],\r\n                imageFormat: 1 // 1-åŸå›¾ï¼Œ2-å¤§å›¾ï¼Œ3-ç¼©ç•¥å›¾\r\n            }\r\n        });\r\n\r\n        const { error } = await _src_main_js__WEBPACK_IMPORTED_MODULE_0__.tim.sendMessage(imageMsg);\r\n        if (!error) {\r\n            const reader = new FileReader();\r\n            reader.onload = function (e) {\r\n                addMessageToUI({\r\n                    type: 'image',\r\n                    sender: 'æˆ‘',\r\n                    content: `<img src=\"${e.target.result}\" class=\"max-w-full h-auto rounded-lg shadow-md\">`\r\n                });\r\n            };\r\n            reader.readAsDataURL(e.target.files[0]);\r\n        }\r\n    }\r\n}\r\n\r\n// æ·»åŠ æ¶ˆæ¯åˆ°UI\r\nconst addMessageToUI = ({ type, sender, content }) => {\r\n    const chatMessages = document.getElementById('chat-messages');\r\n    const messageDiv = document.createElement('div');\r\n    const isSelf = sender === 'æˆ‘';\r\n    messageDiv.className = `flex ${isSelf ? 'justify-end' : 'justify-start'} mb-4 animate-slide-up`;\r\n\r\n    let avatarHtml = '';\r\n    if (!isSelf) {\r\n        avatarHtml = `\r\n            <div class=\"mr-3 flex-shrink-0\">\r\n                <img src=\"https://picsum.photos/seed/${sender}/200\" alt=\"${sender}\" class=\"w-10 h-10 rounded-full shadow-md object-cover\">\r\n                <div class=\"text-xs text-center text-gray-500 mt-1\">${sender}</div>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    messageDiv.innerHTML = `\r\n        ${avatarHtml}\r\n        <div class=\"max-w-[80%] ${isSelf ? 'message-bubble-right' : 'message-bubble-left'}\">\r\n            <div class=\"rounded-lg p-3 ${isSelf ? 'bg-primary text-white' : 'bg-gray-100 text-gray-800'} shadow-sm message-bubble\">\r\n                <p>${content}</p>\r\n            </div>\r\n            <div class=\"text-xs text-gray-500 mt-1 ${isSelf ? 'text-right' : 'text-left'}\">\r\n                ${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n            </div>\r\n        </div>\r\n    `;\r\n\r\n    chatMessages.appendChild(messageDiv);\r\n    chatMessages.scrollTop = chatMessages.scrollHeight;\r\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWVzc2FnZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9tZXNzYWdlLmpzP2I2NTQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8g5L+u5pS55a+85YWl6K+t5Y+lXHJcbmltcG9ydCB7IHRpbSwgaXNUSU1Jbml0aWFsaXplZCB9IGZyb20gJy9zcmMvbWFpbi5qcyc7XHJcblxyXG5jb25zdCBtZXNzYWdlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVzc2FnZS1pbnB1dCcpO1xyXG5jb25zdCBpbWFnZVVwbG9hZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWFnZS11cGxvYWQnKTtcclxuXHJcbi8vIOWcqOWPkemAgea2iOaBr+WJjeajgOafpVNES+eKtuaAgVxyXG5leHBvcnQgY29uc3Qgc2VuZE1lc3NhZ2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIWlzVElNSW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICBhbGVydCgnVElNTSBTREsg6L+Y5pyq5Yid5aeL5YyW77yM6K+356iN5ZCO5YaN6K+V44CCJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRleHQgPSBtZXNzYWdlSW5wdXQudmFsdWUudHJpbSgpO1xyXG4gICAgaWYgKCF0ZXh0KSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgdGV4dE1zZyA9IHRpbS5jcmVhdGVUZXh0TWVzc2FnZSh7XHJcbiAgICAgICAgdG86ICdAVEdTIzE2NVg1RFRRNicsXHJcbiAgICAgICAgY29udmVyc2F0aW9uVHlwZTogdGltLlRZUEVTLkNPTlZfR1JPVVAsXHJcbiAgICAgICAgcGF5bG9hZDogeyB0ZXh0IH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIOWPkemAgeaWh+acrOa2iOaBr1xyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgdGltLnNlbmRNZXNzYWdlKHRleHRNc2cpO1xyXG4gICAgaWYgKCFlcnJvcikge1xyXG4gICAgICAgIGFkZE1lc3NhZ2VUb1VJKHtcclxuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxyXG4gICAgICAgICAgICBzZW5kZXI6ICfmiJEnLFxyXG4gICAgICAgICAgICBjb250ZW50OiB0ZXh0XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbWVzc2FnZUlucHV0LnZhbHVlID0gJyc7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIOWbvueJh+S4iuS8oOWkhOeQhuWHveaVsFxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlSW1hZ2VVcGxvYWQoZSkge1xyXG4gICAgaWYgKCFpc1RJTUluaXRpYWxpemVkKSB7XHJcbiAgICAgICAgYWxlcnQoJ1RJTSBTREsg6L+Y5pyq5Yid5aeL5YyW77yM6K+356iN5ZCO5YaN6K+V44CCJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChlLnRhcmdldC5maWxlcyAmJiBlLnRhcmdldC5maWxlc1swXSkge1xyXG4gICAgICAgIGNvbnN0IGltYWdlTXNnID0gdGltLmNyZWF0ZUltYWdlTWVzc2FnZSh7XHJcbiAgICAgICAgICAgIHRvOiAnQFRHUyMxNjVYNURUUTYnLCAvLyDwn5SnIOmcgOS/neaMgeS4jue+pOe7hElE5LiA6Ie0XHJcbiAgICAgICAgICAgIHBheWxvYWQ6IHtcclxuICAgICAgICAgICAgICAgIGZpbGU6IGUudGFyZ2V0LmZpbGVzWzBdLFxyXG4gICAgICAgICAgICAgICAgaW1hZ2VGb3JtYXQ6IDEgLy8gMS3ljp/lm77vvIwyLeWkp+Wbvu+8jDMt57yp55Wl5Zu+XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgdGltLnNlbmRNZXNzYWdlKGltYWdlTXNnKTtcclxuICAgICAgICBpZiAoIWVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgYWRkTWVzc2FnZVRvVUkoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbWFnZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VuZGVyOiAn5oiRJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBgPGltZyBzcmM9XCIke2UudGFyZ2V0LnJlc3VsdH1cIiBjbGFzcz1cIm1heC13LWZ1bGwgaC1hdXRvIHJvdW5kZWQtbGcgc2hhZG93LW1kXCI+YFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGUudGFyZ2V0LmZpbGVzWzBdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIOa3u+WKoOa2iOaBr+WIsFVJXHJcbmNvbnN0IGFkZE1lc3NhZ2VUb1VJID0gKHsgdHlwZSwgc2VuZGVyLCBjb250ZW50IH0pID0+IHtcclxuICAgIGNvbnN0IGNoYXRNZXNzYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0LW1lc3NhZ2VzJyk7XHJcbiAgICBjb25zdCBtZXNzYWdlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBpc1NlbGYgPSBzZW5kZXIgPT09ICfmiJEnO1xyXG4gICAgbWVzc2FnZURpdi5jbGFzc05hbWUgPSBgZmxleCAke2lzU2VsZiA/ICdqdXN0aWZ5LWVuZCcgOiAnanVzdGlmeS1zdGFydCd9IG1iLTQgYW5pbWF0ZS1zbGlkZS11cGA7XHJcblxyXG4gICAgbGV0IGF2YXRhckh0bWwgPSAnJztcclxuICAgIGlmICghaXNTZWxmKSB7XHJcbiAgICAgICAgYXZhdGFySHRtbCA9IGBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1yLTMgZmxleC1zaHJpbmstMFwiPlxyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJodHRwczovL3BpY3N1bS5waG90b3Mvc2VlZC8ke3NlbmRlcn0vMjAwXCIgYWx0PVwiJHtzZW5kZXJ9XCIgY2xhc3M9XCJ3LTEwIGgtMTAgcm91bmRlZC1mdWxsIHNoYWRvdy1tZCBvYmplY3QtY292ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtY2VudGVyIHRleHQtZ3JheS01MDAgbXQtMVwiPiR7c2VuZGVyfTwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG5cclxuICAgIG1lc3NhZ2VEaXYuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICR7YXZhdGFySHRtbH1cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibWF4LXctWzgwJV0gJHtpc1NlbGYgPyAnbWVzc2FnZS1idWJibGUtcmlnaHQnIDogJ21lc3NhZ2UtYnViYmxlLWxlZnQnfVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm91bmRlZC1sZyBwLTMgJHtpc1NlbGYgPyAnYmctcHJpbWFyeSB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTEwMCB0ZXh0LWdyYXktODAwJ30gc2hhZG93LXNtIG1lc3NhZ2UtYnViYmxlXCI+XHJcbiAgICAgICAgICAgICAgICA8cD4ke2NvbnRlbnR9PC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBtdC0xICR7aXNTZWxmID8gJ3RleHQtcmlnaHQnIDogJ3RleHQtbGVmdCd9XCI+XHJcbiAgICAgICAgICAgICAgICAke25ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7IGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCcgfSl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuXHJcbiAgICBjaGF0TWVzc2FnZXMuYXBwZW5kQ2hpbGQobWVzc2FnZURpdik7XHJcbiAgICBjaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gY2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDtcclxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/message.js\n");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("56cb6cee5e7c59d3f8a2")
/******/ })();
/******/ 
/******/ }
);